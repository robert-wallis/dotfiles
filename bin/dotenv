#!/bin/bash
# simple load of .env as exported variables
# Copyright (C) 2025 Robert A. Wallis, All Rights Reserved.

set -e

if [ $# -gt 1 ]; then
  echo "Usage: dotenv <file>"
  echo "   or: dotenv"
  echo "       to load the .env file"
  exit 1
fi

if [ -f "$1" ]; then
  file="$1"
else
  file=".env"
fi

if [ ! -f "$file" ]; then
  echo "File $file does not exist."
  exit 1
fi

set -o allexport
echo "sourcing $file"
source $file
set +o allexport
